import SandBox from '@/components/sandbox'

# 列表类

我们已经知道用变量可以存储数据，但是单个变量只能存储单个数据。

如果你想要存储多条数据，就需要将这些数据“包裹”起来放在一个变量中。

把数据“包裹”起来的装置就叫做容器类。

本节就介绍最常用的容器类 —— 列表。

## 列表的定义与读取

### 创建列表

```python sandbox
# 创建列表
print([1, 'Hello, world!', False])
```

你可以使用 `[]` 包裹若干表达式，并用 `,` 隔开来创建列表。

和一些强类型语言不同，列表中的元素可以是不同类型的。

PEP8 规范要求列表的分隔符 `,` 之前没有空格，之后有一个空格。

### 列表索引

列表中每个元素都有一个索引，也就是这个元素排在第几个。

值得注意的是，在几乎所有编程语言中，索引都是从 `0` 开始计算的。

```python sandbox
# 列表索引
arr = [1, 'Hello, world!', False]
print(arr[1])
```

在存储的变量后跟上 `[]` 包裹一个索引值来获取对应元素。

Python 中的索引可以是负值，也就是反向的索引：

```python sandbox
# 反向索引
arr = [1, 'Hello, world!', False]
print(arr[-1])
```

这里 `arr[-1]` 就代表了 `arr` 列表的最后一个元素。

### 列表长度

使用 `len()` 函数来获取列表长度：

```python sandbox
# 列表长度
arr = [1, 'Hello, world!', False]
print(len(arr))
```

### 截取列表片段

Python 的一个特性就是方便的列表片段截取：

```python sandbox
# 列表片段
arr = [0, 1, 2, 3, 4, 5]
print(arr[2:5])
```

`arr[2:5]` 可以截取列表中索引为 `2` 的元素到索引为 `4` 元素为止，这和之前所说的 `range()` 是一致的。

和 `range()` 一样，你可以指定一个步进，表示截取的间隔：

```python sandbox
# 截取步进
arr = [0, 1, 2, 3, 4, 5]
print(arr[1:5:2])
```

同样道理，你也可以使用负值的步进，但不能为 `0`。

如果你省略了起始索引，那么默认从列表头部开始截取。

如果你省略了结束索引，那么默认截取到列表末端为止。

```python sandbox
# 省略起始和末尾
arr = [0, 1, 2, 3, 4, 5]
print(arr[:4])
print(arr[2::2])
print(arr[::3])
```

### 遍历列表

如果仅用已学的知识，一个很直观的遍历方法就是索引遍历：

```python
arr = [0, 1, 2, 3, 4, 5]

for i in range(len(arr)):
    print(i, arr[i])
```

如果你只想要遍历列表的元素，不需要知道索引的话，可以这样做：

```python
arr = [0, 1, 2, 3, 4, 5]

for value in arr:
    print(value)
```

更高级一点，如果你想要同时获得索引和元素，你可以这样做：

```python
arr = [0, 1, 2, 3, 4, 5]

for i, value in enumerate(arr):
    print(i, value)
```

这个语法可能有些超纲，之后会细讲。

## 列表的修改与操作

### 修改列表

你可以随时改变列表中的某个元素甚至某些元素：

```python sandbox
# 修改列表
arr = [0, 1, 2, 3, 4, 5]
print(arr)
arr[3] = 6
print(arr)
arr[2:4] = [1, 2, 3, 4]
print(arr)
arr[1:6:2] = [4, 5, 6]
print(arr)
```

特别注意，在步进不为 `1` 的情况下对列表片段赋值，必须保持元素个数不变。

### 操作列表

Python 还提供了许多内置的方法可以操作列表。这里只列举了几个最常用的。

```python sandbox
# append
arr = [1, 2, 3, 1, 2, 3, 1, 2]
arr.append(3)
print(arr)
```

```python sandbox
# pop
arr = [1, 2, 3, 1, 2, 3, 1, 2]
print(arr.pop(3))
print(arr)
```

```python sandbox
# sort
arr = [1, 2, 3, 1, 2, 3, 1, 2]
arr.sort()
print(arr)
```

还可以不改变原来的列表，将排序后的列表作为新的列表：

```python sandbox
# sorted
arr = [1, 2, 3, 1, 2, 3, 1, 2]
print(sorted(arr))
print(arr)
```

```python sandbox
# concat
print([1, 2, 3] + [4, 5, 6])
```

## 实战训练

编写一个程序，从控制台获取用户输入，并将每次输入存储至列表中。如果用户输入了 `end{}`，那么停止输入，并将所有用户输入输出到控制台。输出的时候在文本前表上这是第几次输入。

```python sandbox
# 实战训练
```
